generator client {
  provider             = "prisma-client-py"
  recursive_type_depth = "5"
  interface            = "asyncio"
}

datasource db {
  provider     = "postgresql"
  url          = env("DATABASE_URL")
  relationMode = "foreignKeys"
}

model User {
  id        BigInt   @id @unique
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  modules   String[]
}

model Event {
  id        Int      @id @unique @default(autoincrement())
  guildId   BigInt
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  happensAt DateTime
  guild     Guild    @relation(fields: [guildId], references: [id])
}

model Guild {
  id        BigInt   @id @unique
  locale    String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  allowed   Boolean  @default(false)
  events    Event[]
}
